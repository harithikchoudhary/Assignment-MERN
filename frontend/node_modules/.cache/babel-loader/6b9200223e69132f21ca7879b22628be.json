{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport api from \"../api\";\n\nconst useFetch = () => {\n  _s();\n\n  const [state, setState] = useState({\n    loading: false,\n    data: null,\n    successMsg: \"\",\n    errorMsg: \"\"\n  });\n  const fetchData = useCallback(async (config, otherOptions) => {\n    const {\n      showSuccessToast = true,\n      showErrorToast = true\n    } = otherOptions || {};\n    setState(state => ({ ...state,\n      loading: true\n    }));\n\n    try {\n      const {\n        data\n      } = await api.request(config);\n      setState({\n        loading: false,\n        data,\n        successMsg: data.msg || \"success\",\n        errorMsg: \"\"\n      });\n      if (showSuccessToast) toast.success(data.msg);\n      return Promise.resolve(data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n\n      const msg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.msg) || error.message || \"error\";\n      setState({\n        loading: false,\n        data: null,\n        errorMsg: msg,\n        successMsg: \"\"\n      });\n      if (showErrorToast) toast.error(msg);\n      return Promise.reject();\n    }\n  }, []);\n  return [fetchData, state];\n};\n\n_s(useFetch, \"02ctjDrevLcZvoztJ1yGgWjgf84=\");\n\nexport default useFetch;","map":{"version":3,"names":["useCallback","useState","toast","api","useFetch","state","setState","loading","data","successMsg","errorMsg","fetchData","config","otherOptions","showSuccessToast","showErrorToast","request","msg","success","Promise","resolve","error","response","message","reject"],"sources":["C:/Users/harit/OneDrive/Desktop/MERN-task-manager-main/frontend/src/hooks/useFetch.jsx"],"sourcesContent":["import { useCallback, useState } from \"react\"\nimport { toast } from \"react-toastify\";\nimport api from \"../api\";\n\nconst useFetch = () => {\n\n  const [state, setState] = useState({\n    loading: false,\n    data: null,\n    successMsg: \"\",\n    errorMsg: \"\",\n  });\n\n  const fetchData = useCallback(async (config, otherOptions) => {\n    const { showSuccessToast = true, showErrorToast = true } = otherOptions || {};\n    setState(state => ({ ...state, loading: true }));\n\n    try {\n      const { data } = await api.request(config);\n      setState({\n        loading: false,\n        data,\n        successMsg: data.msg || \"success\",\n        errorMsg: \"\"\n      });\n\n      if (showSuccessToast) toast.success(data.msg);\n      return Promise.resolve(data);\n    }\n    catch (error) {\n      const msg = error.response?.data?.msg || error.message || \"error\";\n      setState({\n        loading: false,\n        data: null,\n        errorMsg: msg,\n        successMsg: \"\"\n      });\n\n      if (showErrorToast) toast.error(msg);\n      return Promise.reject();\n    }\n  }, []);\n\n  return [fetchData, state];\n}\n\nexport default useFetch"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,GAAP,MAAgB,QAAhB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAErB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC;IACjCM,OAAO,EAAE,KADwB;IAEjCC,IAAI,EAAE,IAF2B;IAGjCC,UAAU,EAAE,EAHqB;IAIjCC,QAAQ,EAAE;EAJuB,CAAD,CAAlC;EAOA,MAAMC,SAAS,GAAGX,WAAW,CAAC,OAAOY,MAAP,EAAeC,YAAf,KAAgC;IAC5D,MAAM;MAAEC,gBAAgB,GAAG,IAArB;MAA2BC,cAAc,GAAG;IAA5C,IAAqDF,YAAY,IAAI,EAA3E;IACAP,QAAQ,CAACD,KAAK,KAAK,EAAE,GAAGA,KAAL;MAAYE,OAAO,EAAE;IAArB,CAAL,CAAN,CAAR;;IAEA,IAAI;MACF,MAAM;QAAEC;MAAF,IAAW,MAAML,GAAG,CAACa,OAAJ,CAAYJ,MAAZ,CAAvB;MACAN,QAAQ,CAAC;QACPC,OAAO,EAAE,KADF;QAEPC,IAFO;QAGPC,UAAU,EAAED,IAAI,CAACS,GAAL,IAAY,SAHjB;QAIPP,QAAQ,EAAE;MAJH,CAAD,CAAR;MAOA,IAAII,gBAAJ,EAAsBZ,KAAK,CAACgB,OAAN,CAAcV,IAAI,CAACS,GAAnB;MACtB,OAAOE,OAAO,CAACC,OAAR,CAAgBZ,IAAhB,CAAP;IACD,CAXD,CAYA,OAAOa,KAAP,EAAc;MAAA;;MACZ,MAAMJ,GAAG,GAAG,oBAAAI,KAAK,CAACC,QAAN,4FAAgBd,IAAhB,8EAAsBS,GAAtB,KAA6BI,KAAK,CAACE,OAAnC,IAA8C,OAA1D;MACAjB,QAAQ,CAAC;QACPC,OAAO,EAAE,KADF;QAEPC,IAAI,EAAE,IAFC;QAGPE,QAAQ,EAAEO,GAHH;QAIPR,UAAU,EAAE;MAJL,CAAD,CAAR;MAOA,IAAIM,cAAJ,EAAoBb,KAAK,CAACmB,KAAN,CAAYJ,GAAZ;MACpB,OAAOE,OAAO,CAACK,MAAR,EAAP;IACD;EACF,CA5B4B,EA4B1B,EA5B0B,CAA7B;EA8BA,OAAO,CAACb,SAAD,EAAYN,KAAZ,CAAP;AACD,CAxCD;;GAAMD,Q;;AA0CN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}