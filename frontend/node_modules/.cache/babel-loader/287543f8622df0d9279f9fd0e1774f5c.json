{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harit\\\\OneDrive\\\\Desktop\\\\MERN-task-manager-main\\\\frontend\\\\src\\\\components\\\\Tasks.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport useFetch from '../hooks/useFetch';\nimport Loader from './utils/Loader';\nimport Tooltip from './utils/Tooltip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Tasks = () => {\n  _s();\n\n  const authState = useSelector(state => state.authReducer);\n  const [tasks, setTasks] = useState([]);\n  const [fetchData, {\n    loading\n  }] = useFetch();\n  const fetchTasks = useCallback(() => {\n    const config = {\n      url: \"/tasks\",\n      method: \"get\",\n      headers: {\n        Authorization: authState.token\n      }\n    };\n    fetchData(config, {\n      showSuccessToast: false\n    }).then(data => setTasks(data.tasks));\n  }, [authState.token, fetchData]);\n  useEffect(() => {\n    if (!authState.isLoggedIn) return;\n    fetchTasks();\n  }, [authState.isLoggedIn, fetchTasks]);\n\n  const handleDelete = id => {\n    const config = {\n      url: `/tasks/${id}`,\n      method: \"delete\",\n      headers: {\n        Authorization: authState.token\n      }\n    };\n    fetchData(config).then(() => fetchTasks());\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-2 mx-auto max-w-[700px] py-4\",\n      children: [tasks.length !== 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"my-2 ml-2 md:ml-0 text-xl\",\n        children: [\"Your tasks (\", tasks.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 32\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: tasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[600px] h-[300px] flex items-center justify-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"No tasks found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/tasks/add\",\n            className: \"bg-blue-500 text-white hover:bg-blue-600 font-medium rounded-md px-4 py-2\",\n            children: \"+ Add new task \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this) : tasks.map((task, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white my-4 p-4 text-gray-600 rounded-md shadow-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: [\"Task #\", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              text: \"Edit this task\",\n              position: \"top\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/tasks/${task._id}`,\n                className: \"ml-auto mr-2 text-green-600 cursor-pointer\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-pen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              text: \"Delete this task\",\n              position: \"top\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500 cursor-pointer\",\n                onClick: () => handleDelete(task._id),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa-solid fa-trash\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"whitespace-pre\",\n            children: task.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this)]\n        }, task._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Tasks, \"mHkACCHUWZWgVVUCep+RhfYvTTY=\", false, function () {\n  return [useSelector, useFetch];\n});\n\n_c = Tasks;\nexport default Tasks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useSelector","Link","useFetch","Loader","Tooltip","Tasks","authState","state","authReducer","tasks","setTasks","fetchData","loading","fetchTasks","config","url","method","headers","Authorization","token","showSuccessToast","then","data","isLoggedIn","handleDelete","id","length","map","task","index","_id","description"],"sources":["C:/Users/harit/OneDrive/Desktop/MERN-task-manager-main/frontend/src/components/Tasks.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport useFetch from '../hooks/useFetch';\nimport Loader from './utils/Loader';\nimport Tooltip from './utils/Tooltip';\n\nconst Tasks = () => {\n\n  const authState = useSelector(state => state.authReducer);\n  const [tasks, setTasks] = useState([]);\n  const [fetchData, { loading }] = useFetch();\n\n  const fetchTasks = useCallback(() => {\n    const config = { url: \"/tasks\", method: \"get\", headers: { Authorization: authState.token } };\n    fetchData(config, { showSuccessToast: false }).then(data => setTasks(data.tasks));\n  }, [authState.token, fetchData]);\n\n  useEffect(() => {\n    if (!authState.isLoggedIn) return;\n    fetchTasks();\n  }, [authState.isLoggedIn, fetchTasks]);\n\n\n  const handleDelete = (id) => {\n    const config = { url: `/tasks/${id}`, method: \"delete\", headers: { Authorization: authState.token } };\n    fetchData(config).then(() => fetchTasks());\n  }\n\n\n  return (\n    <>\n      <div className=\"my-2 mx-auto max-w-[700px] py-4\">\n\n        {tasks.length !== 0 && <h2 className='my-2 ml-2 md:ml-0 text-xl'>Your tasks ({tasks.length})</h2>}\n        {loading ? (\n          <Loader />\n        ) : (\n          <div>\n            {tasks.length === 0 ? (\n\n              <div className='w-[600px] h-[300px] flex items-center justify-center gap-4'>\n                <span>No tasks found</span>\n                <Link to=\"/tasks/add\" className=\"bg-blue-500 text-white hover:bg-blue-600 font-medium rounded-md px-4 py-2\">+ Add new task </Link>\n              </div>\n\n            ) : (\n              tasks.map((task, index) => (\n                <div key={task._id} className='bg-white my-4 p-4 text-gray-600 rounded-md shadow-md'>\n                  <div className='flex'>\n\n                    <span className='font-medium'>Task #{index + 1}</span>\n\n                    <Tooltip text={\"Edit this task\"} position={\"top\"}>\n                      <Link to={`/tasks/${task._id}`} className='ml-auto mr-2 text-green-600 cursor-pointer'>\n                        <i className=\"fa-solid fa-pen\"></i>\n                      </Link>\n                    </Tooltip>\n\n                    <Tooltip text={\"Delete this task\"} position={\"top\"}>\n                      <span className='text-red-500 cursor-pointer' onClick={() => handleDelete(task._id)}>\n                        <i className=\"fa-solid fa-trash\"></i>\n                      </span>\n                    </Tooltip>\n\n                  </div>\n                  <div className='whitespace-pre'>{task.description}</div>\n                </div>\n              ))\n\n            )}\n          </div>\n        )}\n      </div>\n    </>\n  )\n\n}\n\nexport default Tasks"],"mappings":"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"},"metadata":{},"sourceType":"module"}