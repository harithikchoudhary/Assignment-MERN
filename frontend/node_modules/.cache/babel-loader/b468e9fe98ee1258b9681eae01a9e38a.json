{"ast":null,"code":"import api from \"../../api\";\nimport { LOGIN_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, LOGOUT, SAVE_PROFILE } from \"./actionTypes\";\nimport { toast } from \"react-toastify\";\nexport const postLoginData = (email, password) => async dispatch => {\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const {\n      data\n    } = await api.post('/auth/login', {\n      email,\n      password\n    });\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem('token', data.token);\n    toast.success(data.msg);\n  } catch (error) {\n    var _error$response, _error$response$data;\n\n    const msg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.msg) || error.message;\n    dispatch({\n      type: LOGIN_FAILURE,\n      payload: {\n        msg\n      }\n    });\n    toast.error(msg);\n  }\n};\nexport const saveProfile = token => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get('/profile', {\n      headers: {\n        Authorization: token\n      }\n    });\n    dispatch({\n      type: SAVE_PROFILE,\n      payload: {\n        user: data.user,\n        token\n      }\n    });\n  } catch (error) {// console.log(error);\n  }\n};\nexport const logout = () => dispatch => {\n  localStorage.removeItem('token');\n  dispatch({\n    type: LOGOUT\n  });\n  document.location.href = '/';\n};","map":{"version":3,"names":["api","LOGIN_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGOUT","SAVE_PROFILE","toast","postLoginData","email","password","dispatch","type","data","post","payload","localStorage","setItem","token","success","msg","error","response","message","saveProfile","get","headers","Authorization","user","logout","removeItem","document","location","href"],"sources":["C:/Users/harit/OneDrive/Desktop/MERN-task-manager-main/frontend/src/redux/actions/authActions.js"],"sourcesContent":["import api from \"../../api\"\nimport { LOGIN_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, LOGOUT, SAVE_PROFILE } from \"./actionTypes\"\nimport { toast } from \"react-toastify\";\n\nexport const postLoginData = (email, password) => async (dispatch) => {\n  try {\n    dispatch({ type: LOGIN_REQUEST });\n    const { data } = await api.post('/auth/login', { email, password });\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: data,\n    });\n    localStorage.setItem('token', data.token);\n    toast.success(data.msg);\n\n  }\n  catch (error) {\n    const msg = error.response?.data?.msg || error.message;\n    dispatch({\n      type: LOGIN_FAILURE,\n      payload: { msg }\n    })\n    toast.error(msg);\n  }\n}\n\n\n\nexport const saveProfile = (token) => async (dispatch) => {\n  try {\n    const { data } = await api.get('/profile', {\n      headers: { Authorization: token }\n    });\n    dispatch({\n      type: SAVE_PROFILE,\n      payload: { user: data.user, token },\n    });\n  }\n  catch (error) {\n    // console.log(error);\n  }\n}\n\n\n\nexport const logout = () => (dispatch) => {\n  localStorage.removeItem('token');\n  dispatch({ type: LOGOUT });\n  document.location.href = '/';\n}"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,WAAhB;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,aAAvC,EAAsDC,MAAtD,EAA8DC,YAA9D,QAAkF,eAAlF;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAOC,QAAP,IAAoB;EACpE,IAAI;IACFA,QAAQ,CAAC;MAAEC,IAAI,EAAET;IAAR,CAAD,CAAR;IACA,MAAM;MAAEU;IAAF,IAAW,MAAMZ,GAAG,CAACa,IAAJ,CAAS,aAAT,EAAwB;MAAEL,KAAF;MAASC;IAAT,CAAxB,CAAvB;IACAC,QAAQ,CAAC;MACPC,IAAI,EAAER,aADC;MAEPW,OAAO,EAAEF;IAFF,CAAD,CAAR;IAIAG,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,KAAnC;IACAX,KAAK,CAACY,OAAN,CAAcN,IAAI,CAACO,GAAnB;EAED,CAVD,CAWA,OAAOC,KAAP,EAAc;IAAA;;IACZ,MAAMD,GAAG,GAAG,oBAAAC,KAAK,CAACC,QAAN,4FAAgBT,IAAhB,8EAAsBO,GAAtB,KAA6BC,KAAK,CAACE,OAA/C;IACAZ,QAAQ,CAAC;MACPC,IAAI,EAAEV,aADC;MAEPa,OAAO,EAAE;QAAEK;MAAF;IAFF,CAAD,CAAR;IAIAb,KAAK,CAACc,KAAN,CAAYD,GAAZ;EACD;AACF,CApBM;AAwBP,OAAO,MAAMI,WAAW,GAAIN,KAAD,IAAW,MAAOP,QAAP,IAAoB;EACxD,IAAI;IACF,MAAM;MAAEE;IAAF,IAAW,MAAMZ,GAAG,CAACwB,GAAJ,CAAQ,UAAR,EAAoB;MACzCC,OAAO,EAAE;QAAEC,aAAa,EAAET;MAAjB;IADgC,CAApB,CAAvB;IAGAP,QAAQ,CAAC;MACPC,IAAI,EAAEN,YADC;MAEPS,OAAO,EAAE;QAAEa,IAAI,EAAEf,IAAI,CAACe,IAAb;QAAmBV;MAAnB;IAFF,CAAD,CAAR;EAID,CARD,CASA,OAAOG,KAAP,EAAc,CACZ;EACD;AACF,CAbM;AAiBP,OAAO,MAAMQ,MAAM,GAAG,MAAOlB,QAAD,IAAc;EACxCK,YAAY,CAACc,UAAb,CAAwB,OAAxB;EACAnB,QAAQ,CAAC;IAAEC,IAAI,EAAEP;EAAR,CAAD,CAAR;EACA0B,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,GAAyB,GAAzB;AACD,CAJM"},"metadata":{},"sourceType":"module"}